(function(t){function e(e){for(var s,r,i=e[0],l=e[1],c=e[2],p=0,m=[];p<i.length;p++)r=i[p],a[r]&&m.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},"1ca9":function(t,e,n){},"36c0":function(t,e,n){},"4e93":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("0fb7"),n("450d");var s=n("f529"),a=n.n(s),o=(n("ce18"),n("f58e")),r=n.n(o),i=(n("f225"),n("89a9")),l=n.n(i),c=(n("672e"),n("101e")),u=n.n(c),p=(n("075a"),n("72aa")),m=n.n(p),d=(n("e612"),n("dd87")),f=n.n(d),h=(n("a7cc"),n("df33")),b=n.n(h),v=(n("560b"),n("dcdc")),_=n.n(v),y=(n("5466"),n("ecdf")),g=n.n(y),w=(n("38a0"),n("ad41")),k=n.n(w),P=(n("10cb"),n("f3ad")),j=n.n(P),C=(n("6611"),n("e772")),I=n.n(C),U=(n("1f1a"),n("4e4b")),L=n.n(U),$=(n("eca7"),n("3787")),x=n.n($),S=(n("425f"),n("4105")),O=n.n(S),E=(n("1951"),n("eedf")),D=n.n(E),N=(n("8bd8"),n("4cb2")),R=n.n(N),M=(n("4ca3"),n("443e")),G=n.n(M),A=(n("f4f9"),n("c2cc")),q=n.n(A),T=(n("7a0f"),n("0f6c")),V=n.n(T),z=(n("cadf"),n("551c"),n("097d"),n("2b0e")),J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("navbar"),n("router-view")],1)},Q=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"layout-navbar",attrs:{"default-active":t.activeIndex,mode:"horizontal"}},[n("h1",{staticClass:"layout-navbar-title"},[t._v("大地監控")]),t.isLogined?[[n("el-menu-item",{attrs:{index:"1"},on:{click:function(e){t.toPath("UserInfo")}}},[t._v("帳號資料")]),n("el-menu-item",{attrs:{index:"2"},on:{click:function(e){t.toPath("ProjectList")}}},[t._v("專案列表")])],t.roleIs("ADMIN")?[n("el-menu-item",{attrs:{index:"3"},on:{click:function(e){t.toPath("SOItems")}}},[t._v("傾度管設定")]),n("el-menu-item",{attrs:{index:"4"},on:{click:function(e){t.toPath("UserList")}}},[t._v("帳號設定")]),n("el-submenu",{attrs:{index:"5","menu-trigger":"click"}},[n("template",{slot:"title"},[t._v("專案設定")]),n("el-menu-item",{attrs:{index:"5-1"},on:{click:function(e){t.toPath("ProjectSetting")}}},[t._v("專案列表")]),n("el-menu-item",{attrs:{index:"5-2"},on:{click:function(e){t.toPath("ProjectProgress")}}},[t._v("專案執行階段")])],2),n("el-menu-item",{attrs:{index:"6"},on:{click:function(e){t.toPath("PermissionSetup")}}},[t._v("權限設定")])]:t._e(),n("el-menu-item",{attrs:{index:"7"},on:{click:t.logout}},[t._v("登出")])]:t._e()],2)},F=[],H={methods:{toPath:function(t,e){this.$router.push({name:t,params:e})}}},K=H,W={methods:{roleIs:function(t){return this.$store.getters.myRole===t}}},X=W,Y=n("2f62"),Z={name:"Navbar",mixins:[K,X],data:function(){return{activeIndex:"1"}},computed:{isLogined:function(){return this.$store.getters.token}},methods:{logout:function(){this.$store.dispatch("logout"),this.toPath("Entry")}}},tt=Z,et=n("2877"),nt=Object(et["a"])(tt,B,F,!1,null,null,null);nt.options.__file="Navbar.vue";var st=nt.exports,at={name:"app",components:{Navbar:st}},ot=at,rt=(n("034f"),Object(et["a"])(ot,J,Q,!1,null,null,null));rt.options.__file="App.vue";var it=rt.exports,lt=(n("ac6a"),n("5df3"),n("8c4f")),ct=n("8ded"),ut=n.n(ct),pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"entry"},[n("el-form",[n("el-form-item",{attrs:{label:"帳號"}},[n("el-input",{attrs:{type:"text",name:"account",placeholder:"請輸入帳號"},on:{input:t.removeError},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),n("el-form-item",{attrs:{label:"密碼"}},[n("el-input",{attrs:{type:"password",name:"password",placeholder:"請輸入密碼"},on:{input:t.removeError},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("el-form-item",[n("p",{staticClass:"feedback"},[t._v("\n        "+t._s(t.feedback)+"\n      ")]),n("div",{staticClass:"button-container"},[n("el-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("\n          登入\n        ")])],1)])],1)],1)},mt=[],dt={name:"Entry",data:function(){return{account:null,password:null,feedback:""}},methods:{submit:function(){var t=this;if(!this.account||!this.password)return this.feedback="帳號密碼不匹配";this.$store.dispatch("login",{account:this.account,password:this.password}).then(function(){t.$router.push({name:"ProjectList"})}).catch(function(e){console.log(e.message),t.feedback="帳號密碼不匹配"})},removeError:function(){this.feedback=""}}},ft=dt,ht=(n("eeb3"),Object(et["a"])(ft,pt,mt,!1,null,null,null));ht.options.__file="Entry.vue";var bt=ht.exports,vt=function(){var t=this,e=this,n=e.$createElement,s=e._self._c||n;return s("div",{staticClass:"user-info"},[s("h1",[e._v("帳號資料")]),s("el-form",[s("section",[s("h2",[e._v("基本資料")]),s("p",[e._v("姓名："+e._s(e.me.name))]),s("p",[e._v("角色："+e._s(e.me.roleName))]),e.me.company?s("p",[e._v("公司："+e._s(e.me.company.name))]):e._e(),e.me.soItem?s("p",[e._v("傾度管 編號："+e._s(e.me.soItem.number))]):e._e()]),s("section",[s("h2",[e._v("聯絡方式")]),s("el-form-item",{attrs:{label:"電話"}},[s("el-input",{attrs:{value:e.me.phone,placeholder:"請輸入電話"},on:{change:function(e){return t.updateMe({phone:e})}}})],1),s("el-form-item",{attrs:{label:"email"}},[s("el-input",{attrs:{value:e.me.email,placeholder:"請輸入 email"},on:{change:function(e){return t.updateMe({email:e})}}})],1)],1),s("section",[s("h2",[e._v("密碼設定")]),s("el-form-item",{attrs:{label:"密碼"}},[s("el-input",{attrs:{value:e.me.password,placeholder:"請輸入密碼"},on:{change:function(e){return t.updateMe({password:e})}}})],1)],1),s("section",[s("h2",[e._v("參與專案")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.me.projects}},[s("el-table-column",{attrs:{prop:"id",label:"案號",width:"180"}}),s("el-table-column",{attrs:{prop:"name",label:"名稱"}})],1)],1),s("div",{staticClass:"button-container"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("\n        確認\n      ")])],1)])],1)},_t=[],yt={name:"UserInfo",mixins:[K],data:function(){return{}},computed:{me:function(){return this.$store.getters.me}},methods:{updateMe:function(t){this.$store.commit("updateMe",t)},submit:function(){var t=this;this.$store.dispatch("updateMe").then(function(){t.$message({message:"資料更新成功",type:"success"}),t.toPath("ProjectList")}).catch(function(e){t.$message.error("資料更新失敗")})}}},gt=yt,wt=Object(et["a"])(gt,vt,_t,!1,null,null,null);wt.options.__file="UserInfo.vue";var kt=wt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"projectList"},[n("h1",[t._v("專案列表")]),n("div",{staticClass:"operationGroup"},[n("div",{staticClass:"operationGroup-left"},[n("el-button",{attrs:{type:"primary"},on:{click:t.deleteProjects}},[t._v("刪除")])],1),n("div",{staticClass:"operationGroup-right"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toPath("ProjectCreate")}}},[n("i",{staticClass:"el-icon-plus"})])],1)]),n("el-table",{staticClass:"projectList-table",attrs:{data:t.projectList},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"案號",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.toPath("EditProject",{projectId:e.row.id})}}},[t._v("\n          "+t._s(e.row.id)+"\n        ")])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"名稱",width:"460"}})],1)],1)},jt=[],Ct={name:"ProjectList",mixins:[K],data:function(){return{deleteList:[]}},computed:{projectList:function(){return this.$store.getters.projects}},methods:{deleteProjects:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteProjects",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})}}},It=Ct,Ut=Object(et["a"])(It,Pt,jt,!1,null,null,null);Ut.options.__file="ProjectList.vue";var Lt=Ut.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userList"},[n("h1",[t._v("帳號列表")]),n("div",{staticClass:"operationGroup"},[n("div",{staticClass:"operationGroup-left"},[n("el-button",{attrs:{type:"primary"},on:{click:t.deleteUsers}},[t._v("刪除")])],1),n("div",{staticClass:"operationGroup-right"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toPath("CreateUser")}}},[n("i",{staticClass:"el-icon-plus"})])],1)]),n("el-table",{staticClass:"userList-table",attrs:{data:t.userList},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"編號",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.toPath("EditUser",{userId:e.row.id})}}},[t._v("\n          "+t._s(e.row.id)+"\n        ")])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),n("el-table-column",{attrs:{prop:"company.name",label:"公司",width:"180"}}),n("el-table-column",{attrs:{prop:"roleName",label:"角色"}})],1)],1)},xt=[],St={name:"UserList",mixins:[K],data:function(){return{deleteList:[]}},computed:{userList:function(){return this.$store.getters.users}},methods:{deleteUsers:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteUsers",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})}}},Ot=St,Et=Object(et["a"])(Ot,$t,xt,!1,null,null,null);Et.options.__file="UserList.vue";var Dt=Et.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"createUser"},[n("h1",[t._v("帳號設定")]),n("h2",[t._v("基本資料")]),n("el-form",{attrs:{"label-position":"top","label-width":"80px",model:t.newUser}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{model:{value:t.newUser.name,callback:function(e){t.$set(t.newUser,"name",e)},expression:"newUser.name"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"角色"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.roleName,callback:function(e){t.$set(t.newUser,"roleName",e)},expression:"newUser.roleName"}},t._l(t.roles,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",[n("el-form-item",{attrs:{label:"帳號"}},[n("el-input",{model:{value:t.newUser.account,callback:function(e){t.$set(t.newUser,"account",e)},expression:"newUser.account"}})],1)],1)],1),n("el-form-item",{attrs:{label:"公司名稱"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:22}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.companyId,callback:function(e){t.$set(t.newUser,"companyId",e)},expression:"newUser.companyId"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{width:"100%"},on:{click:function(e){t.toPath("CompanyList")}}},[t._v("\n            維護\n          ")])],1)],1)],1),n("el-form-item",{attrs:{label:"傾度管"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.soId,callback:function(e){t.$set(t.newUser,"soId",e)},expression:"newUser.soId"}},t._l(t.soItems,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-form-item",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.submit}},[t._v("\n            確定送出\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.cancel}},[t._v("\n            取消\n          ")])],1)],1)],1)],1)],1)},Rt=[],Mt={name:"CreateUser",mixins:[K],data:function(){return{newUser:{name:"",roleName:null,companyId:null,soId:"",account:""}}},computed:{userList:function(){return this.$store.getters.users},roles:function(){return this.$store.getters.roles},companies:function(){return this.$store.getters.companies},soItems:function(){return this.$store.getters.soItems}},methods:{deleteUsers:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteUsers",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})},reset:function(){this.newUser={name:"",roleName:null,companyId:null,soId:"",account:""}},cancel:function(){this.reset(),this.toPath("UserList")},submit:function(){var t=this;this.$store.dispatch("createUser",this.newUser).then(function(){t.reset(),t.toPath("UserList")})}}},Gt=Mt,At=Object(et["a"])(Gt,Nt,Rt,!1,null,null,null);At.options.__file="CreateUser.vue";var qt=At.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"createUser"},[n("h1",[t._v("帳號設定")]),n("h2",[t._v("基本資料")]),n("el-form",{attrs:{"label-position":"top","label-width":"80px",model:t.newUser}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{model:{value:t.newUser.name,callback:function(e){t.$set(t.newUser,"name",e)},expression:"newUser.name"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"角色"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.roleName,callback:function(e){t.$set(t.newUser,"roleName",e)},expression:"newUser.roleName"}},t._l(t.roles,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",[n("el-form-item",{attrs:{label:"帳號"}},[n("el-input",{model:{value:t.newUser.account,callback:function(e){t.$set(t.newUser,"account",e)},expression:"newUser.account"}})],1)],1)],1),n("el-form-item",{attrs:{label:"公司名稱"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:22}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.companyId,callback:function(e){t.$set(t.newUser,"companyId",e)},expression:"newUser.companyId"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{width:"100%"},on:{click:function(e){t.toPath("CompanyList")}}},[t._v("\n            維護\n          ")])],1)],1)],1),n("el-form-item",{attrs:{label:"傾度管"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.soId,callback:function(e){t.$set(t.newUser,"soId",e)},expression:"newUser.soId"}},t._l(t.soItems,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-form-item",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.edit}},[t._v("\n            確定送出\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.cancel}},[t._v("\n            取消\n          ")])],1)],1)],1)],1)],1)},Vt=[],zt=(n("7f7f"),{name:"EditUser",mixins:[K],created:function(){this.$route.params.userId&&this.loadUser(this.$route.params.userId)},data:function(){return{newUser:{name:"",roleName:null,companyId:null,soId:"",account:""}}},computed:{userList:function(){return this.$store.getters.users},roles:function(){return this.$store.getters.roles},companies:function(){return this.$store.getters.companies},soItems:function(){return this.$store.getters.soItems}},methods:{deleteUsers:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteUsers",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})},loadUser:function(t){var e=this;this.$store.dispatch("getUser",t).then(function(t){var n=t.data.data;e.newUser={name:n.name,roleName:n.roleName,companyId:n.company.id,account:n.account,soId:""}})},reset:function(){this.newUser={name:"",roleName:"",companyId:"",soId:"",account:""}},cancel:function(){this.reset(),this.toPath("UserList")},edit:function(){var t=this;this.$store.dispatch("updateUser",{userId:this.$route.params.userId,payload:this.newUser}).then(function(){t.reset(),t.toPath("UserList")})}}}),Jt=zt,Qt=Object(et["a"])(Jt,Tt,Vt,!1,null,null,null);Qt.options.__file="EditUser.vue";var Bt=Qt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"companyList"},[n("div",{staticClass:"operationGroup"},[n("div",{staticClass:"operationGroup-left"},[n("el-button",{attrs:{type:"primary"},on:{click:t.openCompanyDialog}},[t._v("新增")])],1),n("div",{staticClass:"operationGroup-right"},[t.hasDeleteItems?n("el-button",{attrs:{type:"primary"},on:{click:t.deleteCompany}},[t._v("\n        刪除\n      ")]):t._e()],1)]),n("el-table",{staticClass:"companyList-table",attrs:{data:t.companyList},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"編號",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.readAndOpenCompanyDialog(e.row.name)}}},[t._v("\n          "+t._s(e.row.id)+"\n        ")])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"公司名稱"}})],1),n("div",{staticClass:"button-container"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toPath("CreateUser")}}},[t._v("\n      離開\n    ")])],1),n("el-dialog",{attrs:{title:"新增公司",visible:t.createCompanyDialogVisible},on:{"update:visible":function(e){t.createCompanyDialogVisible=e}}},[n("el-input",{attrs:{placeholder:"請輸入公司名稱"},model:{value:t.newCompanyName,callback:function(e){t.newCompanyName=e},expression:"newCompanyName"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.createCompany}},[t._v("\n        確認\n      ")])],1)],1)],1)},Ht=[],Kt={name:"CompanyList",mixins:[K],data:function(){return{createCompanyDialogVisible:!1,deleteList:[],newCompanyName:null}},computed:{hasDeleteItems:function(){return this.deleteList.length>0},companyList:function(){return this.$store.getters.companies}},methods:{openCompanyDialog:function(){this.newCompanyName="",this.createCompanyDialogVisible=!0},readAndOpenCompanyDialog:function(t){this.newCompanyName=t,this.createCompanyDialogVisible=!0},createCompany:function(){this.$store.dispatch("createCompany",{name:this.newCompanyName}),this.createCompanyDialogVisible=!1},deleteCompany:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteCompanies",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})}}},Wt=Kt,Xt=(n("ef53"),Object(et["a"])(Wt,Ft,Ht,!1,null,null,null));Xt.options.__file="CompanyList.vue";var Yt=Xt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"permission-setup"},[n("el-table",{attrs:{data:t.rolePermissions}},[n("el-table-column",{attrs:{prop:"role",label:"角色",width:"180"}}),n("el-table-column",{attrs:{prop:"permissions",label:"權限"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.permissions,function(s,a){return t.permissions?n("div",{key:a},[n("el-checkbox",{attrs:{value:s.value},on:{change:function(n){t.updateRolePermissions(s.value,e.row.role,a)}}},[t._v("\n            "+t._s(t.permissions[s.name])+"\n          ")])],1):t._e()})}}])})],1),n("div",{staticClass:"button-container"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n      確認送出\n    ")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toPath("ProjectList")}}},[t._v("\n      取消修改\n    ")])],1)],1)},te=[],ee={name:"PermissionSetup",mixins:[K],data:function(){return{}},computed:{permissions:function(){return this.$store.getters.permissions},rolePermissions:function(){return this.$store.getters.rolePermissions}},methods:{updateRolePermissions:function(t,e,n){t=!t,this.$store.commit("updateRolePermissions",{role:e,permissionIndex:n,value:t})},submit:function(){var t=this;this.$store.dispatch("updateRolePermissions").then(function(){t.$message({message:"權限設定成功",type:"success"}),t.toPath("ProjectList")}).catch(function(e){t.$message.error("權限設定失敗")})}}},ne=ee,se=(n("641f"),Object(et["a"])(ne,Zt,te,!1,null,null,null));se.options.__file="PermissionSetup.vue";var ae=se.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"projectSetting"},[n("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:6}},[n("h1",[t._v("專案列表")])]),n("el-col",{attrs:{span:6}},[n("span",[t._v("專案狀態")]),n("el-select",{attrs:{placeholder:"请选择"}},[n("el-option",[t._v("end")]),n("el-option",[t._v("in-progress")])],1)],1)],1),n("div",{staticClass:"operationGroup"},[n("div",{staticClass:"operationGroup-left"},[n("el-button",{attrs:{type:"primary"},on:{click:t.deleteProjects}},[t._v("刪除")])],1),n("div",{staticClass:"operationGroup-right"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toPath("ProjectCreate")}}},[n("i",{staticClass:"el-icon-plus"})])],1)]),n("el-table",{staticClass:"projectList-table",attrs:{data:t.projectList},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"案號",width:"320"}}),n("el-table-column",{attrs:{prop:"name",label:"名稱",width:"460"}})],1)],1)},re=[],ie={name:"ProjectSetting",mixins:[K],data:function(){return{deleteList:[]}},computed:{projectList:function(){return this.$store.getters.projects}},methods:{deleteProjects:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteProjects",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})}}},le=ie,ce=Object(et["a"])(le,oe,re,!1,null,null,null);ce.options.__file="ProjectSetting.vue";var ue=ce.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"soList"},[n("h1",[t._v("專案執行階段")]),n("div",{staticClass:"operationGroup"},[n("div",{staticClass:"operationGroup-left"},[n("el-button",{attrs:{type:"primary"},on:{click:t.deleteSOItems}},[t._v("刪除")])],1),n("div",{staticClass:"operationGroup-right"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toPath("SOItemsCreate")}}},[n("i",{staticClass:"el-icon-plus"})])],1)]),n("el-table",{staticClass:"soItems-table",attrs:{data:t.soItems},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"序號",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.toPath("SOItemsEdit",{soId:e.row.id})}}},[t._v("\n          "+t._s(e.row.id)+"\n        ")])]}}])}),n("el-table-column",{attrs:{prop:"company.name",label:"專案階段",width:"180"}})],1)],1)},me=[],de={name:"soItems",mixins:[K],data:function(){return{deleteList:[]}},computed:{soItems:function(){return this.$store.getters.soItems}},methods:{deleteSOItems:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteSOItems",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})}}},fe=de,he=Object(et["a"])(fe,pe,me,!1,null,null,null);he.options.__file="ProjectProgress.vue";var be=he.exports,ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"createUser"},[n("h1",[t._v("專案設定")]),n("el-form",{attrs:{"label-position":"top","label-width":"80px",model:t.project}},[n("h2",[t._v("基本資料")]),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"專案案號"}},[n("el-input",{attrs:{placeholder:"CNT - 16Q4"},model:{value:t.project.numbering,callback:function(e){t.$set(t.project,"numbering",e)},expression:"project.numbering"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"專案狀態"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.project.status,callback:function(e){t.$set(t.project,"status",e)},expression:"project.status"}},t._l(t.roles,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",[n("el-form-item",{attrs:{label:"專案名稱"}},[n("el-input",{attrs:{placeholder:"阡福町商業大樓"},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1)],1)],1),n("el-form-item",{attrs:{label:"地點"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:20}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"大武街 34 號"},model:{value:t.project.address,callback:function(e){t.$set(t.project,"address",e)},expression:"project.address"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-col",{attrs:{span:4}},[n("el-button",{staticStyle:{width:"100%"},on:{click:function(e){t.toPath("CompanyList")}}},[t._v("\n            維護\n          ")])],1)],1)],1),n("el-form-item",{attrs:{label:"客戶公司名稱"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"雨宮營造"},model:{value:t.project.companies,callback:function(e){t.$set(t.project,"companies",e)},expression:"project.companies"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("h2",[t._v("參與人員")]),n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"OPT"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:16}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"雨宮營造"},model:{value:t.project.companies,callback:function(e){t.$set(t.project,"companies",e)},expression:"project.companies"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-col",{attrs:{span:6,offset:2}},[n("el-button",{on:{click:function(e){t.toPath("CompanyList")}}},[t._v("\n              加入專案\n            ")])],1)],1),n("el-table",{staticClass:"projectList-table",attrs:{data:t.projectList},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{label:"負責人",type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"OPT",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.toPath("EditProject",{projectId:e.row.id})}}},[t._v("\n                "+t._s(e.row.id)+"\n              ")])]}}])})],1)],1),n("el-tab-pane",{attrs:{label:"USER"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:16}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"雨宮營造"},model:{value:t.project.companies,callback:function(e){t.$set(t.project,"companies",e)},expression:"project.companies"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-col",{attrs:{span:6,offset:2}},[n("el-button",{on:{click:function(e){t.toPath("CompanyList")}}},[t._v("\n              加入專案\n            ")])],1)],1),n("el-table",{staticClass:"projectList-table",attrs:{data:t.projectList},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{label:"負責人",type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"OPT",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.toPath("EditProject",{projectId:e.row.id})}}},[t._v("\n                "+t._s(e.row.id)+"\n              ")])]}}])})],1)],1)],1),n("h1",[t._v("配置圖")]),n("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:""}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[t._v("將文件拖到此處，或"),n("em",[t._v("點擊上傳")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上傳jpg/png文件，且不超過500kb")])]),n("h2",[t._v("監控設定")]),n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"軸力計 ( VG )"}},[n("el-form-item",{attrs:{label:"使用軸力計編號"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"1,4"},model:{value:t.project.companies,callback:function(e){t.$set(t.project,"companies",e)},expression:"project.companies"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("br"),n("div",{staticClass:"demo-input-suffix"},[t._v("\n          支撐階數：\n          "),n("el-input",{attrs:{placeholder:"3"}}),t._v("\n          每層數量：\n          "),n("el-input",{attrs:{placeholder:"5"}})],1),n("br"),n("div",{staticClass:"block"},[n("span",{staticClass:"demonstration"},[t._v("請選擇支撐階數")]),n("el-pagination",{attrs:{layout:"prev, pager, next",total:30}})],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:9}},[n("h2",[t._v("管理值"),n("span",[t._v("單位：噸")])]),t._v("\n            注意值\n            "),n("el-input",{attrs:{placeholder:"3"}}),t._v("\n            警戒值\n            "),n("el-input",{attrs:{placeholder:"5"}}),t._v("\n            行動值\n            "),n("el-input",{attrs:{placeholder:"8"}})],1),n("el-col",{attrs:{span:13,offset:2}},[n("h2",[t._v("位置編號"),n("span",[t._v("( VG 層數/流水數 )")])]),n("el-button",{on:{click:function(e){t.toPath("CompanyList")}}},[t._v("\n              維護鋼材資料\n            ")]),n("el-table",{staticClass:"vg-table",on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{label:"VG ID",width:"100"}}),n("el-table-column",{attrs:{prop:"id",label:"Port",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.toPath("EditProject",{projectId:e.row.id})}}},[t._v("\n                    "+t._s(e.row.id)+"\n                  ")])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"編碼",width:"100"}}),n("el-table-column",{attrs:{prop:"name",label:"鋼材",width:"100"}})],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"傾度管 ( SO )"}},[n("el-form-item",{attrs:{label:"使用傾度管編號:32"}}),n("br"),n("div",{staticClass:"demo-input-suffix"},[t._v("\n          支撐階數：\n          "),n("el-input",{attrs:{placeholder:"3"}}),t._v("\n          每層數量：\n          "),n("el-input",{attrs:{placeholder:"5"}})],1),n("br"),n("div",{directives:[{name:"show",rawName:"v-show",value:t.go,expression:"go"}],staticClass:"block"},[n("span",{staticClass:"demonstration"},[t._v("請選擇支撐階數")]),n("el-pagination",{attrs:{layout:"prev, pager, next",total:30}})],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("h2",[t._v("管理值"),n("span",[t._v("單位：噸")])]),t._v("\n            注意值\n            "),n("el-input",{attrs:{placeholder:"3"}}),t._v("\n            警戒值\n            "),n("el-input",{attrs:{placeholder:"5"}}),t._v("\n            行動值\n            "),n("el-input",{attrs:{placeholder:"8"}})],1),n("el-col",{attrs:{span:14,offset:2}},[n("h2",[t._v("位置編號"),n("span",[t._v("( VG 層數/流水數 )")])]),n("h5",[t._v("相同位置編碼 量測深度間隔 1 m")]),n("el-table",{staticClass:"vg-table",on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{prop:"name",label:"編碼",width:"200"}}),n("el-table-column",{attrs:{prop:"name",label:"深度",width:"200"}})],1)],1)],1)],1)],1),n("br"),n("el-form-item",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.submit}},[t._v("\n            確定送出\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.cancel}},[t._v("\n            取消\n          ")])],1)],1)],1)],1)],1)},_e=[],ye={name:"CreateUser",mixins:[K],data:function(){return{project:{numbering:"",name:"",status:null,companies:"",address:""}}},computed:{projectList:function(){return this.$store.getters.users},roles:function(){return this.$store.getters.roles},companies:function(){return this.$store.getters.companies},soItems:function(){return this.$store.getters.soItems}},methods:{deleteProjects:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteProjects",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})},reset:function(){this.project={name:"",roleName:null,companyId:null,soId:"",account:""}},cancel:function(){this.reset(),this.toPath("ProjectList")},submit:function(){var t=this;this.$store.dispatch("createProject",this.project).then(function(){t.reset(),t.toPath("ProjectList")})}}},ge=ye,we=(n("97d3"),Object(et["a"])(ge,ve,_e,!1,null,null,null));we.options.__file="ProjectCreate.vue";var ke=we.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"createUser"},[n("h1",[t._v("帳號設定")]),n("h2",[t._v("基本資料")]),n("el-form",{attrs:{"label-position":"top","label-width":"80px",model:t.newUser}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{model:{value:t.newUser.name,callback:function(e){t.$set(t.newUser,"name",e)},expression:"newUser.name"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"角色"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.roleName,callback:function(e){t.$set(t.newUser,"roleName",e)},expression:"newUser.roleName"}},t._l(t.roles,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",[n("el-form-item",{attrs:{label:"帳號"}},[n("el-input",{model:{value:t.newUser.account,callback:function(e){t.$set(t.newUser,"account",e)},expression:"newUser.account"}})],1)],1)],1),n("el-form-item",{attrs:{label:"公司名稱"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:22}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.companyId,callback:function(e){t.$set(t.newUser,"companyId",e)},expression:"newUser.companyId"}},t._l(t.companies,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{width:"100%"},on:{click:function(e){t.toPath("CompanyList")}}},[t._v("\n            維護\n          ")])],1)],1)],1),n("el-form-item",{attrs:{label:"傾度管"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.newUser.soId,callback:function(e){t.$set(t.newUser,"soId",e)},expression:"newUser.soId"}},t._l(t.soItems,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),n("el-form-item",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.edit}},[t._v("\n            確定送出\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-button",{staticStyle:{width:"100%"},on:{click:t.cancel}},[t._v("\n            取消\n          ")])],1)],1)],1)],1)],1)},je=[],Ce={name:"EditUser",mixins:[K],created:function(){this.$route.params.userId&&this.loadUser(this.$route.params.userId)},data:function(){return{newUser:{name:"",roleName:null,companyId:null,soId:"",account:""}}},computed:{userList:function(){return this.$store.getters.users},roles:function(){return this.$store.getters.roles},companies:function(){return this.$store.getters.companies},soItems:function(){return this.$store.getters.soItems}},methods:{deleteUsers:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteUsers",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})},loadUser:function(t){var e=this;this.$store.dispatch("getUser",t).then(function(t){var n=t.data.data;e.newUser={name:n.name,roleName:n.roleName,companyId:n.company.id,account:n.account,soId:""}})},reset:function(){this.newUser={name:"",roleName:"",companyId:"",soId:"",account:""}},cancel:function(){this.reset(),this.toPath("UserList")},edit:function(){var t=this;this.$store.dispatch("updateUser",{userId:this.$route.params.userId,payload:this.newUser}).then(function(){t.reset(),t.toPath("UserList")})}}},Ie=Ce,Ue=Object(et["a"])(Ie,Pe,je,!1,null,null,null);Ue.options.__file="ProjectEdit.vue";var Le=Ue.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"soList"},[n("h1",[t._v("傾度管列表")]),n("div",{staticClass:"operationGroup"},[n("div",{staticClass:"operationGroup-left"},[n("el-button",{attrs:{type:"primary"},on:{click:t.deleteSOItems}},[t._v("刪除")])],1),n("div",{staticClass:"operationGroup-right"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toPath("SOItemsCreate")}}},[n("i",{staticClass:"el-icon-plus"})])],1)]),n("el-table",{staticClass:"soItems-table",attrs:{data:t.soItems},on:{"selection-change":t.updateDeleteList}},[n("el-table-column",{attrs:{type:"selection",width:"180"}}),n("el-table-column",{attrs:{prop:"id",label:"編號",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"clickable",on:{click:function(n){t.toPath("SOItemsEdit",{soId:e.row.id})}}},[t._v("\n          "+t._s(e.row.id)+"\n        ")])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"廠牌 型號",width:"180"}}),n("el-table-column",{attrs:{prop:"company.name",label:"OPT",width:"180"}})],1)],1)},xe=[],Se={name:"soItems",mixins:[K],data:function(){return{deleteList:[]}},computed:{soItems:function(){return this.$store.getters.soItems}},methods:{deleteSOItems:function(){0!==this.deleteList.length&&this.$store.dispatch("deleteSOItems",this.deleteList)},updateDeleteList:function(t){this.deleteList=t.map(function(t){return t.id})}}},Oe=Se,Ee=Object(et["a"])(Oe,$e,xe,!1,null,null,null);Ee.options.__file="SOItems.vue";var De=Ee.exports,Ne=(n("f751"),n("bc3a")),Re=n.n(Ne),Me=function(t,e,n,s){var a={Accept:"application/json"};n&&(a["x-access-token"]=Ge.getters.token);var o={baseURL:"http://ec2-13-115-237-75.ap-northeast-1.compute.amazonaws.com:3333/v1",headers:a};return Re.a.create(o)[t](e,s)};z["default"].use(Y["a"]);var Ge=new Y["a"].Store({state:{myId:"",token:"",myRole:"",me:{},users:[],projects:[],permissions:{},roles:[],rolePermissions:[],companies:[],soItems:[]},mutations:{setToken:function(t,e){t.token=e},setMyId:function(t,e){t.myId=e},setMyRole:function(t,e){t.myRole=e},setMe:function(t,e){t.me=e},updateMe:function(t,e){t.me=Object.assign(t.me,e)},setUsers:function(t,e){t.users=e},setPermissions:function(t,e){t.permissions=e},setRoles:function(t,e){t.roles=e},setRolePermissions:function(t,e){t.rolePermissions=e},updateRolePermissions:function(t,e){var n=e.value,s=e.role,a=e.permissionIndex;t.rolePermissions=t.rolePermissions.map(function(t){return t.role===s&&(t.permissions[a].value=n),t})},setCompanies:function(t,e){t.companies=e},setSOItems:function(t,e){t.soItems=e},setProjects:function(t,e){t.projects=e}},getters:{token:function(t){return t.token},myId:function(t){return t.myId},myRole:function(t){return t.myRole},me:function(t){return t.me},users:function(t){return t.users},permissions:function(t){return t.permissions},roles:function(t){return t.roles},rolePermissions:function(t){return t.rolePermissions},companies:function(t){return t.companies},soItems:function(t){return t.soItems},projects:function(t){return t.projects}},actions:{login:function(t,e){var n=t.commit;return Me("post","/login",!1,e).then(function(t){n("setToken",t.data.token),n("setMyId",t.data.userId),n("setMyRole",t.data.role),ut.a.set("ground_monitor_token",{token:t.data.token,myId:t.data.userId,myRole:t.data.role})})},logout:function(t){var e=t.commit;e("setToken",""),ut.a.remove("ground_monitor_token")},getMe:function(t){var e=t.getters,n=t.commit;return Me("get","/user/".concat(e.myId),!0).then(function(t){n("setMe",t.data.data)})},updateMe:function(t){var e=t.state;return Me("put","/user/self",!0,e.me)},getUser:function(t,e){return Me("get","/user/".concat(e),!0)},updateUser:function(t,e){var n=e.userId,s=e.payload;return Me("put","/user/".concat(n),!0,s)},getUsers:function(t){var e=t.commit;return Me("get","/users",!0).then(function(t){e("setUsers",t.data.data)})},deleteUsers:function(t,e){var n=t.dispatch,s=e.join(",");return Me("delete","/users/".concat(s),!0).then(function(){n("getUsers")})},createUser:function(t,e){return Me("post","/user",!0,e)},getRoles:function(t){var e=t.commit;return Me("get","/roles",!0).then(function(t){e("setRoles",t.data.data)})},getPermissions:function(t){var e=t.commit;return Me("get","/permissions",!0).then(function(t){e("setPermissions",t.data.data)})},getRolePermissions:function(t){var e=t.commit;return Me("get","/role/permissions",!0).then(function(t){e("setRolePermissions",t.data.data)})},updateRolePermissions:function(t){var e=t.state;return Me("put","/role/permissions",!0,e.rolePermissions)},getCompanies:function(t){var e=t.commit;return Me("get","/companies",!0).then(function(t){e("setCompanies",t.data.data)})},createCompany:function(t,e){var n=t.dispatch;return Me("post","/company",!0,e).then(function(){n("getCompanies")})},deleteCompanies:function(t,e){var n=t.dispatch,s=e.join(",");return Me("delete","/companies/".concat(s),!0).then(function(){n("getCompanies")})},getSOItems:function(t){var e=t.commit;return Me("get","/so-items",!0).then(function(t){e("setSOItems",t.data.data)})},getProjects:function(t){var e=t.commit;return Me("get","/projects",!0).then(function(t){e("setProjects",t.data.data)})},deleteProjects:function(t,e){var n=t.dispatch,s=e.join(",");return Me("delete","/projects/".concat(s),!0).then(function(){n("getProjects")})},createProject:function(t,e){return Me("post","/project",!0,e)}}});z["default"].use(lt["a"]);var Ae=new lt["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Entry",component:bt},{path:"/user-info",name:"UserInfo",component:kt,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Ge.dispatch("getMe").then(function(){n()})}},{path:"/project-list",name:"ProjectList",component:Lt,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Ge.dispatch("getProjects").then(function(){n()})}},{path:"/company-list",name:"CompanyList",component:Yt,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Ge.dispatch("getCompanies").then(function(){n()})}},{path:"/user-list",name:"UserList",component:Dt,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Ge.dispatch("getUsers").then(function(){n()})}},{path:"/create-user",name:"CreateUser",component:qt,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Promise.all([Ge.dispatch("getRoles"),Ge.dispatch("getCompanies"),Ge.dispatch("getSOItems")]).then(function(){n()})}},{path:"/edit-user/:userId",name:"EditUser",component:Bt,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Promise.all([Ge.dispatch("getRoles"),Ge.dispatch("getCompanies"),Ge.dispatch("getSOItems")]).then(function(){n()})}},{path:"/permisson-setup",name:"PermissionSetup",component:ae,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Promise.all([Ge.dispatch("getPermissions"),Ge.dispatch("getRolePermissions")]).then(function(){n()})}},{path:"/project-setting",name:"ProjectSetting",component:ue,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Promise.all([Ge.dispatch("getPermissions"),Ge.dispatch("getRolePermissions")]).then(function(){n()})}},{path:"/project-Progress",name:"ProjectProgress",component:be,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Promise.all([Ge.dispatch("getPermissions"),Ge.dispatch("getRolePermissions")]).then(function(){n()})}},{path:"/project-create",name:"ProjectCreate",component:ke,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Promise.all([Ge.dispatch("getPermissions"),Ge.dispatch("getRolePermissions")]).then(function(){n()})}},{path:"/edit-project/:projectId",name:"ProjectEdit",component:Le,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Promise.all([Ge.dispatch("getProjectStatus"),Ge.dispatch("getCompanies")]).then(function(){n()})}},{path:"/so-items",name:"SOItems",component:De,meta:{requireAuth:!0},beforeEnter:function(t,e,n){Ge.dispatch("getSOItems").then(function(){n()})}}]});Ae.beforeEach(function(t,e,n){if(t.meta.requireAuth||n(),Ge.getters.token)n();else if(ut.a.get("ground_monitor_token")){var s=ut.a.get("ground_monitor_token");Ge.commit("setToken",s.token),Ge.commit("setMyId",s.myId),Ge.commit("setMyRole",s.myRole),n()}else n({name:"Entry"})});var qe=Ae,Te=n("c87b"),Ve=n.n(Te),ze=n("4897"),Je=n.n(ze);Je.a.use(Ve.a),z["default"].use(D.a);n("1ca9");z["default"].use(V.a),z["default"].use(q.a),z["default"].use(G.a),z["default"].use(R.a),z["default"].use(D.a),z["default"].use(O.a),z["default"].use(x.a),z["default"].use(L.a),z["default"].use(I.a),z["default"].use(j.a),z["default"].use(k.a),z["default"].use(g.a),z["default"].use(_.a),z["default"].use(b.a),z["default"].use(f.a),z["default"].use(m.a),z["default"].use(u.a),z["default"].use(l.a),z["default"].use(r.a),z["default"].prototype.$message=a.a,z["default"].config.productionTip=!1,new z["default"]({router:qe,store:Ge,render:function(t){return t(it)}}).$mount("#app")},"641f":function(t,e,n){"use strict";var s=n("6469"),a=n.n(s);a.a},6469:function(t,e,n){},"64a9":function(t,e,n){},"97d3":function(t,e,n){"use strict";var s=n("eba3"),a=n.n(s);a.a},eba3:function(t,e,n){},eeb3:function(t,e,n){"use strict";var s=n("36c0"),a=n.n(s);a.a},ef53:function(t,e,n){"use strict";var s=n("4e93"),a=n.n(s);a.a}});
//# sourceMappingURL=app.174db8d1.js.map